<script>
  let app = new PIXI.Application({
    width: window.innerWidth,
    height: window.innerHeight,
  });
  document.getElementById("page").appendChild(app.view);
  window.addEventListener("resize", function () {
    app.renderer.resize(window.innerWidth, window.innerHeight);
  });

  let sprite = PIXI.Sprite.from("sample.png");

  // keyboard events
  keys = {}
  window.addEventListener("keydown", e => {
    keys[e.key] = true
  })
  window.addEventListener("keyup", e => {
    keys[e.key] = false
  })

  let elapsed = 0
  app.ticker.add((delta) => {
    elapsed += delta
    if(elapsed <= 50)
      return

    elapsed = 0

    v_x = (keys["A"] ? -1 : 0) + (keys["D"] ? 1 : 0)
    v_y = (keys["S"] ? -1 : 0) + (keys["W"] ? 1 : 0)
    norm = Math.sqrt(v_x * v_x + v_y * v_x)
    if(norm != 0) {

    }
  });

  function myFunction(x) {
    x.classList.toggle("change");
  }

  function hide() {
    document.getElementById('chat').classList.add('hidden')
  }
</script>

<div class="income"></div>
<div class="wealth"></div>
<div class="chat" id="chat" onclick="hide()"></div>
<div class="close" id="close" onclick="hide()"></div>
<div class="container" onclick="myFunction(this)">
  <div class="bar1"></div>
  <div class="bar2"></div>
  <div class="bar3"></div>
</div>

<style>
  .hidden {
    display: none;
  }
  .close {
    
  }
  .container {
    display: inline-block;
    cursor: pointer;
    position: absolute;
    bottom: 5;
    right: 5;
  }

  .bar1,
  .bar2,
  .bar3 {
    width: 35px;
    height: 5px;
    background-color: #333;
    margin: 6px 0;
    transition: 0.4s;
  }

  .change .bar1 {
    transform: translate(0, 11px) rotate(-45deg);
  }

  .change .bar2 {
    opacity: 0;
  }

  .change .bar3 {
    transform: translate(0, -11px) rotate(45deg);
  }
  body {
    background-color: aqua;
  }
  .income {
    position: absolute;
    top: 5;
    left: 5;
    width: 300px;
    height: 150px;
    border: 3px solid black;
    background: rgba(0, 0, 0, 0.1);
  }
  .wealth {
    position: absolute;
    top: 5;
    right: 5;
    width: 150px;
    height: 200px;
    border: 3px solid black;
    background: rgba(0, 0, 0, 0.1);
  }
  .chat {
    position: absolute;
    bottom: 5;
    left: 5;
    width: 350px;
    height: 400px;
    border: 3px solid black;
    background: rgba(0, 0, 0, 0.1);
  }
</style>
